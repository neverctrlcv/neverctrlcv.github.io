import{u as p,r as d,j as s,N as c}from"./index-h7I1zuYK.js";import{B as j}from"./BlogConfig-nqJbUsf_.js";import{M as g,s as N,S as v}from"./index-th5sU2-A.js";function k(){const h=p(),[r,a]=d.useState([]),[o,t]=d.useState([]);d.useEffect(()=>{const e=j["blog-list"],n=g["music-list"];if(e.length<=6)a(e);else{const l=[];for(let i=e.length-1;i>=e.length-6&&(e[i].isShow&&l.push(e[i]),l.length!=6);i--);a(l)}if(n.length<=16)t(n);else{const l=[];for(let i=n.length-1;i>=n.length-16&&(l.push(n[i]),l.length!=16);i--);t(l)}return()=>{a([]),t([])}},[]);function m(e){h(`/article/blog/${e}`)}function x(e){N.dispatch({type:v,data:{musicId:e}}),h("/music")}return s.jsxs(s.Fragment,{children:[s.jsx("header",{id:"hp-header"}),s.jsxs("main",{id:"hp-main",children:[s.jsxs("section",{className:"hp-bg-mask",children:[s.jsx("div",{className:"hp-bg bg-setting"}),s.jsx("div",{className:"hp-mask bg-setting"})]}),s.jsxs("section",{className:"hp-content",children:[s.jsxs("nav",{children:[s.jsx("div",{children:s.jsx(c,{className:"link-class",to:"/",children:"首页"})}),s.jsx("div",{children:s.jsx(c,{className:"link-class",to:"/blog",children:"博客"})}),s.jsx("div",{children:s.jsx(c,{className:"link-class",to:"/music",children:"音乐"})}),s.jsx("div",{children:s.jsx(c,{className:"link-class",to:"/novel",children:"小说"})}),s.jsx("div",{children:s.jsx(c,{className:"link-class",to:"/about-me",children:"个人简介"})})]}),s.jsxs("div",{className:"hp-blog-preview",children:[s.jsxs("div",{className:"hp-content-title",children:[s.jsx("span",{children:"博客"}),s.jsx("span",{children:"(最新发布)"})]}),s.jsx("div",{className:"hp-new-blogs",children:r.map(e=>s.jsxs("div",{className:"hp-new-blog-item",children:[s.jsx("div",{className:"hp-blog-title",onClick:()=>m(e.id),title:e.title,children:e.title}),s.jsx("div",{className:"hp-blog-desc",title:e.abstract,children:e.abstract}),s.jsxs("div",{className:"hp-blog-info",children:[s.jsx("div",{className:"hp-blog-author",children:s.jsx("span",{children:"润火"})}),s.jsxs("div",{className:"hp-blog-type-time",children:[s.jsx("span",{className:"blog-tag",children:e.type}),s.jsx("span",{children:e.datetime})]})]})]},e.id))})]}),s.jsxs("div",{className:"hp-music-preview",children:[s.jsxs("div",{className:"hp-content-title",children:[s.jsx("span",{children:"音乐"}),s.jsx("span",{children:"(最新增加)"})]}),s.jsx("div",{className:"hp-new-music",children:o.map(e=>s.jsx("div",{className:"hp-music-item",onClick:()=>x(e.id),children:s.jsx("span",{children:e.name})},e.id))})]}),s.jsxs("div",{className:"hp-novel-preview",children:[s.jsxs("div",{className:"hp-content-title",children:[s.jsx("span",{children:"小说"}),s.jsx("span",{children:"(最近更新)"})]}),s.jsx("div",{className:"hp-new-novel",children:s.jsx("div",{children:"等待更新"})})]})]})]}),s.jsx("footer",{id:"hp-footer"})]})}export{k as default};
