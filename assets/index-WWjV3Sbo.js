import{r as n,u as x,j as s,N as p}from"./index-Bq86dPtm.js";import{B as a}from"./BlogConfig-5CcBkcUb.js";import{B as j}from"./my-blog-logo-PCiHkSTQ.js";function v(){const[d,r]=n.useState([]),[g,o]=n.useState([]),b=x();n.useEffect(()=>{document.title="博客 - 润火";const e=[];for(let l=0;l<a["blog-list"].length;l++)a["blog-list"][l].isShow&&e.push(a["blog-list"][l]);r(e.reverse());const t=new Map;e.forEach(l=>{if(!t.has(l.type))t.set(l.type,1);else{const c=t.get(l.type);t.set(l.type,c+1)}});const i=[];return i.push("全部文章"),t.forEach((l,c)=>{i.push(`${c}x${l}`)}),o(i),()=>{r([]),o([])}},[]);function m(e){const t=e.target;if(!(t.tagName!=="SPAN"||t.className!=="blog-tag"))if(t.innerText==="全部文章"){const i=[];for(let l=0;l<a["blog-list"].length;l++)a["blog-list"][l].isShow&&i.push(a["blog-list"][l]);r(i.reverse())}else{const i=t.innerText.split("x")[0],l=[];a["blog-list"].forEach(c=>{i===c.type&&l.push(c)}),r(l.reverse())}}function h(e){const t=e.target;if(t.tagName!=="SPAN")return;const i=t.id.split("-")[1];b(`/article/blog/${i}`)}return s.jsxs(s.Fragment,{children:[s.jsx("header",{id:"mb-header",children:s.jsxs("div",{className:"mb-header-box",children:[s.jsx("div",{className:"mb-header-left",children:s.jsx("img",{src:j,alt:"logo"})}),s.jsx("div",{className:"mb-header-right",children:s.jsx(p,{to:"/",className:"link-class",children:"首页"})})]})}),s.jsxs("main",{id:"mb-main",children:[s.jsxs("section",{className:"mb-bg-mask",children:[s.jsx("div",{className:"mb-bg bg-setting"}),s.jsx("div",{className:"mb-mask bg-setting"})]}),s.jsxs("section",{className:"mb-blogs",children:[s.jsx("div",{className:"mb-blogs-left",children:d.map(e=>s.jsxs("div",{className:"mb-blog-item",children:[s.jsx("div",{className:"mb-blog-title",onClick:t=>h(t),children:s.jsx("span",{id:`article-${e.id}`,title:e.title,children:e.title})}),s.jsx("div",{className:"mb-blog-desc",children:s.jsx("span",{title:e.abstract,children:e.abstract})}),s.jsxs("div",{className:"mb-blog-info",children:[s.jsx("div",{className:"mb-author",children:s.jsx("span",{children:"润火"})}),s.jsxs("div",{className:"mb-blog-type-time",onClick:t=>m(t),children:[s.jsx("span",{className:"blog-tag",children:e.type}),s.jsx("span",{children:e.datetime})]})]})]},e.id))}),s.jsx("div",{className:"mb-blogs-right",children:s.jsxs("div",{className:"mb-blogs-types",children:[s.jsx("div",{className:"mb-types-title",children:s.jsx("span",{children:"文章类型"})}),s.jsx("div",{className:"mb-blog-list",onClick:e=>m(e),children:g.map((e,t)=>s.jsx("span",{className:"blog-tag",children:e},t))})]})})]})]}),s.jsx("footer",{id:"mb-footer"})]})}export{v as default};
